# Justificación: Convertir variables categóricas a numéricas para el modelado.

# 1. Codificación Binaria para 'smoker' y 'sex' (variables con solo dos categorías)
# 1 si es 'yes'/'male', 0 si es 'no'/'female'
df['smoker_coded'] = np.where(df['smoker'] == 'yes', 1, 0)
df['sex_coded'] = np.where(df['sex'] == 'male', 1, 0)

# 2. One-Hot Encoding para 'region' (variable nominal con más de dos categorías)
# Creamos una columna por cada región, excluyendo una (drop_first=True) para evitar la multicolinealidad.
df_regions = pd.get_dummies(df['region'], prefix='region', drop_first=True)

# 3. Unir las nuevas columnas y eliminar las originales de texto
df_final = pd.concat([df, df_regions], axis=1)
df_final = df_final.drop(['sex', 'smoker', 'region'], axis=1)

print("Estructura final del dataset (primeras filas con códigos 0/1):")
print(df_final.head())
